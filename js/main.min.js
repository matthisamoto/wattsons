(function(e){var t,n,r,i,s,o,u,a,f,l,c;t=e(window);n=e("#container");r=e("#slide-1");i=300;s="easeInOutSine";o="idle";u=0;a=e("#tab");f=e("#toolbar");l=e("#left");c=e("#right");var h=n.children().length-1,p=function(r){e(".slide").css({width:t.width()+"px"});e(".slide .content").css({marginTop:t.height()*.25});e("#slide-1 .content").css({marginTop:(t.height()-e("#slide-1 .content").height())/2});e("#slide-13 .content").css({marginTop:(t.height()-e("#slide-13 .content").height())/2});n.css({left:-(t.width()*u)+"px"});f.hasClass("open")?f.css({top:"0px"}):f.css({top:-f.height()+"px"})},d=function(e){var t=e.keyCode;t==37||t==38?m("aft"):(t==39||t==40)&&m("fore");e.preventDefault()},v=function(e){e.currentTarget.id=="left"?m("aft"):e.currentTarget.id=="right"&&m("fore")},m=function(e){var t=n.position().left,a=r.width(),l=0,c=u;if(e=="fore"){l=t-a;c++}else{l=t+a;c--}l>0&&(l=0);l<h*-a&&(l=h*-a);if(l!==t&&o=="idle"){o="working";n.animate({left:l+"px"},i,s,function(e){o="idle";u=c})}f.hasClass("open")&&g(null)},g=function(e){if(f.hasClass("open")){f.removeClass("open").find("#tab .label").html("More");f.animate({top:-f.height()+"px"},200,s,function(e){})}else{f.addClass("open").find("#tab .label").html("Less");f.animate({top:0},200,s,function(e){})}};l.bind({click:v});c.bind({click:v});t.smartresize(p).keyup(d);e("body").hammer({}).bind("swipe",function(e){var t=e.direction;t=="right"?m("aft"):t=="left"&&m("fore")});p(null);a.bind({click:g});e("h1").fitText(1.8,{minFontSize:"18px",maxFontSize:"32px"});e("h2").fitText(1.8,{minFontSize:"16px",maxFontSize:"44px"});e("h3").fitText(2,{minFontSize:"16px",maxFontSize:"40px"});e(".giant-overlay h1").fitText(.4)})(jQuery);